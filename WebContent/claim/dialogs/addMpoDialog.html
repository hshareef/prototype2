<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div id="theAddMpoDialog" class="dialog">
		<div class="dialog-content">
			<span class="close" ng-click="vm.closeDialog('theAddMpoDialog', false)">&times;</span>
			<div class="argSection panel panel-primary panel-center">
				<div data-toggle="collapse" data-target="#{{$index}}" class="panel-heading">
  					<h3 class = "panel-title">Missed Premise Objection Name: {{vm.newMpo.name}}</h3>
  					<span class="btn" ng-if="!vm.claim.arguments[vm.currentArgIndex].editable && vm.claim.arguments[vm.currentArgIndex].ownerId === vm.user.userId" ng-click="vm.setArgumentEditMode($index, true) ; $event.stopPropagation()">
      					<span class="glyphicon glyphicon-edit"></span> Edit
    				</span>
	 				<a class="btn" ng-if="vm.claim.arguments[vm.currentArgIndex].editable" ng-click="vm.setArgumentEditMode($index, false) ; vm.saveStatement() ; $event.stopPropagation()" style="color: black">Save</a>
	 				<a class="btn" ng-if="vm.claim.arguments[vm.currentArgIndex].editable" ng-click="vm.setArgumentEditMode($index, false) ; vm.getClaim(claim.claimId) ; $event.stopPropagation()" style="color: black">Cancel</a>
	 				<!-- CHANGE saveStatement() above to saveArgument(index) (and create that method) -->
	 			</div>
			 	<div class="container" id="{{$index}}">
			  		<div class = "panel-body" >
						{{argument.editable}}Argument name: {{vm.claim.arguments[vm.argumentViewingIndex].argName}}
						<div ng-repeat="premise in vm.claim.arguments[vm.argumentViewingIndex].premises track by $index">
							Premise {{$index+1}}:<br>
							{{premise.claimStatement}}
							<br>
							<!-- <textarea  ng-disabled="premise.claimId != null" rows="2" cols="75" type=text ng-model="premise.claimStatement"></textarea><br> -->
						</div>
						<span ng-if="vm.mpoEditable">Missed Premise Objection Name: <textarea ng-disabled="false" rows="1" cols="50" ng-model="vm.newMpo.name"></textarea><br></span>
						<span ng-if="!vm.mpoEditable">Missed Premise Objection Name: <textarea ng-disabled="true" rows="1" cols="50" ng-model="vm.claim.arguments[vm.argumentViewingIndex].missedPremiseObjections[vm.mpoViewingIndex].name"></textarea><br></span>
						<div ng-if="vm.mpoEditable" ng-repeat="premise in vm.newMpo.missedPremises track by $index">
							Missed Premise {{$index+1}}:<br>
							<textarea  ng-disabled="premise.claimId != null" rows="2" cols="75" type=text ng-model="premise.claimStatement"></textarea><br>
						</div>
						<div ng-if="!vm.mpoEditable" ng-repeat="premise in vm.claim.arguments[vm.argumentViewingIndex].missedPremiseObjections[vm.mpoViewingIndex].missedPremises track by $index">
							Missed Premise {{$index+1}}:<br>
							<!-- <textarea  ng-disabled="true" rows="2" cols="75" type=text ng-model="premise.claimStatement"></textarea><br> -->
							<a ng-class="btn" style="color:black; font-size:12px" ng-click="vm.openClaim(premise.claimId)">{{premise.claimStatement}}</a><br>
						</div>
						<a class="btn" ng-click="vm.addToArgMissedPremiseArray($index)" ng-if="vm.mpoEditable">Add New Missed Premise</a><br>
						<a class="btn" ng-click="vm.openDialog('theAddMissedPremiseDialog')" ng-if="vm.mpoEditable">Add Missed Premise from Pre-existing Premises</a><br>
						Conclusion: 
						<p>{{vm.claim.claimStatement}}</p>
						<br>
					</div>
				</div>
			</div>
			<div>{{vm.editMode}}</div>
			<button ng-click="vm.addAndSaveNewMpo()">Save</button>
			<button ng-click="vm.closeDialog('theAddMpoDialog', false)">Close</button>
		</div>
 	</div>

</body>
</html>